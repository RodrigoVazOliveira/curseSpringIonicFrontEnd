<ion-header>
  <ion-toolbar>
    <ion-title>Cadastro</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
    <form [formGroup]="formGroup" (ngSubmit)="signupUser(); $event.preventDefault()">
      <ion-item>
        <ion-label>Nome</ion-label>
        <ion-input type="text" formControlName="nome"></ion-input>
      </ion-item>
      <p class="danger" *ngIf="formGroup.controls['nome'].dirty && formGroup.controls['nome'].errors">Valor incorreto</p>
      <ion-item>
        <ion-label>E-mail</ion-label>
        <ion-input type="email" formControlName="email"></ion-input>
      </ion-item>
      <p class="danger" *ngIf="formGroup.controls['email'].dirty && formGroup.controls['email'].errors">Valor incorreto</p>
  

        <ion-list>
          <ion-radio-group  formControlName="tipo">
            <ion-list-header>
              <ion-label>Tipo de cliente</ion-label>
            </ion-list-header>

            <ion-item>
              <ion-label>Pessoa física</ion-label>
              <ion-radio slot="start"  value="1" checked></ion-radio>
            </ion-item>

            <ion-item>
              <ion-label>Pessoa Jurídica</ion-label>
              <ion-radio slot="start" value="2"></ion-radio>
            </ion-item>


          </ion-radio-group>
        </ion-list>


      <ion-item>
          <ion-label>CPF ou CNPJ</ion-label>
          <ion-input type="text" formControlName="cpfOuCnpj"></ion-input>
      </ion-item>
      <p class="danger" *ngIf="formGroup.controls['cpfOuCnpj'].dirty && formGroup.controls['cpfOuCpnj'].errors">Valor incorreto</p>
      <ion-item>
          <ion-label>Senha</ion-label>
          <ion-input type="password" formControlName="senha"></ion-input>
      </ion-item>
      <p class="danger" *ngIf="formGroup.controls['senha'].dirty && formGroup.controls['senha'].errors">Valor incorreto</p>
      <ion-item>
          <ion-label>Lgradouro</ion-label>
          <ion-input type="text" formControlName="logradouro"></ion-input>
      </ion-item>
      <p class="danger" *ngIf="formGroup.controls['logradouro'].dirty && formGroup.controls['logradouro'].errors">Valor incorreto</p>
      <ion-item>
          <ion-label>Número:</ion-label>
          <ion-input type="number" formControlName="numero"></ion-input>
      </ion-item>
      <p class="danger" *ngIf="formGroup.controls['numero'].dirty && formGroup.controls['numero'].errors">Valor incorreto</p>
      <ion-item>
          <ion-label>Complemento</ion-label>
          <ion-input type="text" formControlName="complemento"></ion-input>
      </ion-item>
      <ion-item>
          <ion-label>Bairro</ion-label>
          <ion-input type="text" formControlName="bairro"></ion-input>
      </ion-item>
      <p class="danger" *ngIf="formGroup.controls['bairro'].dirty && formGroup.controls['bairro'].errors">Valor incorreto</p>
      <ion-item>
          <ion-label>CEP</ion-label>
          <ion-input type="text" formControlName="cep"></ion-input>
      </ion-item>
      <p class="danger" *ngIf="formGroup.controls['cep'].dirty && formGroup.controls['cep'].errors">Valor incorreto</p>
      <ion-item>
          <ion-label>Telefone 1:</ion-label>
          <ion-input type="text" formControlName="telefone1"></ion-input>
      </ion-item>
      <p class="danger" *ngIf="formGroup.controls['telefone1'].dirty && formGroup.controls['telefone1'].errors">Valor incorreto</p>
      <ion-item>
          <ion-label>Telefone 2</ion-label>
          <ion-input type="text"  formControlName="telefone2"></ion-input>
      </ion-item>
      <ion-item>
          <ion-label>Telefone 3</ion-label>
          <ion-input type="text"  formControlName="telefone3"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label>Estado:</ion-label>
        <ion-select formControlName="estadoId" (ionChange)="updateCidades()">
        <ion-select-option *ngFor="let estadoSelect of estados; first as f" [value]="estadoSelect.id" [selected]="f">
          {{estadoSelect.nome}}
        </ion-select-option>
        </ion-select> 
      </ion-item>
      <ion-item>
          <ion-label>Cidade:</ion-label>
          <ion-select formControlName="cidadeId">
            <ion-select-option *ngFor="let cidade of cidades;" [value]="cidade.id">{{cidade.nome}}</ion-select-option>
          </ion-select> 
        </ion-item>
        <ion-button color="primary" expand="full" [disabled]="formGroup.invalid"  type="submit">Cadastrar Contas</ion-button>
    </form>
</ion-content>
